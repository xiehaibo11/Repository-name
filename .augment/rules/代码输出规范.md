---
type: "agent_requested"
description: "Example description"
---
不能简单删除代码 - 每个导入和函数都有其存在的意义 2. 要理解架构设计 - 工具函数、组件、业务逻辑的分层设计 3. 要保持功能完整 - 删除模拟数据-接入真实数据也要实现完整的业务流程 4. 要注重代码质量 - 类型安全、代码规范、错误处理一个都不能少

处理错误或者修改代码之前查看PureAdmin官方文档介绍，包含了TypeScript问题，类型声明，布局，路由和菜单的讲解，注意查看

Vue3 + TypeScript + Vite + Pinia 项目语法规范
1. 基础规范

使用 Vue 3 (Composition API + <script setup> ) 编写组件。

语言统一使用 TypeScript，严禁使用 any，必须声明类型。

项目构建工具使用 Vite。

状态管理统一使用 Pinia，不再使用 Vuex。

代码格式化由 Prettier 统一，语法检查由 ESLint 统一。

2. 目录结构规范
src/
├── api/         # 接口请求
├── assets/      # 静态资源
├── components/  # 公共组件
├── composables/ # 封装的组合式函数
├── stores/      # Pinia 状态管理
├── router/      # 路由配置
├── views/       # 页面组件
├── utils/       # 工具函数
├── types/       # TS 类型定义
├── styles/      # 全局样式
└── main.ts      # 入口文件

3. 命名规范
3.1 文件命名

组件文件：PascalCase（如 UserCard.vue）

工具函数：camelCase（如 dateFormat.ts）

类型文件：PascalCase.d.ts 或 xxx.type.ts

Store 文件：useXxxStore.ts

3.2 变量 & 函数命名

变量：camelCase

常量：CONSTANT_CASE

枚举：PascalCase

组件/类：PascalCase

4. Vue 组件规范
4.1 组件结构顺序
<template>
  <!-- 模板部分 -->
</template>

<script setup lang="ts">
// 1. 引入模块
// 2. props & emits
// 3. 响应式变量
// 4. 计算属性
// 5. 方法
// 6. 生命周期
</script>

<style scoped lang="scss">
/* 样式部分 */
</style>

4.2 Props & Emits

必须使用 类型声明：

defineProps<{
  title: string
  count?: number
}>()

defineEmits<{
  (e: 'update', value: string): void
}>()

4.3 组件通信

优先使用 props/emits，避免过度依赖全局 Store。

兄弟组件通信，使用 Pinia 或事件总线。

5. Pinia 状态管理规范
5.1 定义 Store
import { defineStore } from 'pinia'

export const useUserStore = defineStore('user', {
  state: () => ({
    token: '' as string,
    profile: null as UserProfile | null,
  }),
  getters: {
    isLogin: (state) => !!state.token,
  },
  actions: {
    setToken(token: string) {
      this.token = token
    },
  },
})

5.2 使用 Store
const userStore = useUserStore()

// 解构时必须使用 storeToRefs，避免丢失响应式
const { token, profile } = storeToRefs(userStore)

6. TypeScript 规范

严禁使用 any，必要时使用 unknown 或 Record<string, unknown>。

类型统一放在 src/types/ 下。

接口定义：

export interface UserProfile {
  id: number
  name: string
  email: string
}


枚举统一使用 enum 或 const enum。

7. ESLint + Prettier 规范
7.1 ESLint 推荐配置

.eslintrc.cjs

module.exports = {
  root: true,
  env: {
    node: true,
    browser: true,
    es2021: true,
  },
  parser: 'vue-eslint-parser',
  parserOptions: {
    parser: '@typescript-eslint/parser',
    ecmaVersion: 2021,
    sourceType: 'module',
  },
  extends: [
    'plugin:vue/vue3-recommended',
    'plugin:@typescript-eslint/recommended',
    'plugin:prettier/recommended',
  ],
  rules: {
    'vue/multi-word-component-names': 'off',
    '@typescript-eslint/no-explicit-any': 'warn',
    '@typescript-eslint/explicit-module-boundary-types': 'off',
  },
}

7.2 Prettier 配置

.prettierrc

{
  "singleQuote": true,
  "semi": false,
  "trailingComma": "all",
  "printWidth": 100,
  "tabWidth": 2,
  "endOfLine": "lf"
}

8. Git 提交规范 (推荐使用 commitlint)

feat: 新功能

fix: 修复 bug

docs: 文档修改

style: 代码格式修改（不影响功能）

refactor: 重构（非新增功能/修复 bug）

perf: 性能优化

test: 增加/修改测试

chore: 构建/工具相关

示例：

feat(user): 增加用户登录功能
fix(store): 修复 token 丢失的问题

9. 其他约定

所有 API 调用必须经过 api/ 层，禁止在组件内直接写 axios。

公共逻辑必须抽离到 composables/ 或 utils/。

样式统一使用 scss，并遵循 BEM 命名规范。

组件必须加上 name 属性，方便调试。